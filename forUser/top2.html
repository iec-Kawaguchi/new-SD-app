<!DOCTYPE html>
    <html lang="ja">
        <head>
            <meta charset="UTF-8" />
            <title>Course Catalog</title>
            <meta name="viewport" content="width=device-width, initial-scale=1" />
            <script src="https://cdn.tailwindcss.com"></script>
            <script src="js/header.js" defer></script>
            <script src="js/course-data.js"></script>
            <script src="js/main.js" defer></script>
            <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
            <style>
                body {
                    font-family: "Inter", "Noto Sans JP", system-ui, -apple-system, Segoe UI, sans-serif;
                    -webkit-font-smoothing: antialiased;
                    -moz-osx-font-smoothing: grayscale;
                }
                html { scroll-behavior: smooth; }
                .no-scrollbar::-webkit-scrollbar { display: none; }
                .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
                .glass { backdrop-filter: blur(10px); background-color: rgba(255, 255, 255, 0.6); }
                
                /* ハートアニメーション */
                @keyframes heart-pop {
                    0% { transform: scale(1); }
                    50% { transform: scale(1.4); }
                    100% { transform: scale(1); }
                }
                .heart-active .material-symbols-outlined {
                    animation: heart-pop 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
                    color: #ef4444 !important;
                    font-variation-settings: 'FILL' 1;
                }
                .material-symbols-outlined {
                    font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
                    transition: color 0.3s ease, font-variation-settings 0.3s ease;
                }
                
                /* Range Slider Styles */
                .range-vis {
                    -webkit-appearance: none; appearance: none;
                    position: absolute; left: 0; right: 0; top: 0; bottom: 0; width: 100%;
                    background: transparent; pointer-events: auto;
                    pointer-events: none;
                }
                .range-vis::-webkit-slider-thumb {
                    -webkit-appearance: none; appearance: none;
                    height: 18px; width: 18px; border-radius: 9999px;
                    background: white; border: 2px solid rgb(2,132,199);
                    box-shadow: 0 1px 2px rgba(0,0,0,.12);
                    cursor: pointer;
                    pointer-events: auto;
                    position: relative;   /* z-indexを効かせるために必要 */
                    z-index: 10;          /* つまみを最前面に */
                }
                .range-vis::-moz-range-thumb {
                    height: 18px; width: 18px; border-radius: 9999px;
                    background: white; border: 2px solid rgb(2,132,199);
                    box-shadow: 0 1px 2px rgba(0,0,0,.12);
                    cursor: pointer;
                    pointer-events: auto;
                    position: relative;   /* z-indexを効かせるために必要 */
                    z-index: 10;          /* つまみを最前面に */
                }
                /* Pill Checkbox UI */
                .pill-ui {
                    display: inline-block;
                }
                input:checked + .pill-ui {
                    color: #0284c7; /* sky-600 */
                    font-weight: bold;
                }
                input:checked + .pill-ui::before {
                    content: 'check';
                    font-family: 'Material Symbols Outlined';
                    font-size: 14px;
                    vertical-align: middle;
                    margin-right: 2px;
                }
                /* 親ラベルのスタイル変更用JS連携クラス */
                .pill-active {
                    background-color: #e0f2fe !important; /* sky-100 */
                    border-color: #7dd3fc !important; /* sky-300 */
                }
                /* 入力欄の標準クリアボタンを非表示にする */
                input[type="search"]::-webkit-search-cancel-button {
                    -webkit-appearance: none;
                    appearance: none;
                }
            </style>
        </head>
        <body class="bg-gray-100 text-gray-800">
            <div id="global-header" class="sticky top-0 z-[60] w-full"></div>

            <!-- Hero Section -->
            <section class="relative">
    <div class="mx-auto max-w-6xl px-4">
        <div class="relative mt-6">
            <div class="pointer-events-none absolute inset-y-0 left-0 w-8 bg-gradient-to-r from-gray-50 to-transparent z-10"></div>
            <div class="pointer-events-none absolute inset-y-0 right-0 w-8 bg-gradient-to-l from-gray-50 to-transparent z-10"></div>

            <div id="hero" class="no-scrollbar flex snap-x snap-mandatory gap-4 overflow-x-auto scroll-smooth pb-4">
                
                <a href="guidelines.html" class="group relative snap-start shrink-0 basis-[45%] md:basis-[30%] lg:basis-[28%] rounded-2xl overflow-hidden shadow-md hover:shadow-xl transition-all duration-300">
                    <div class="absolute inset-0 bg-gradient-to-br from-indigo-600 via-sky-500 to-emerald-500 transition-transform duration-500 group-hover:scale-110"></div>
                    <div class="relative h-full w-full aspect-square p-4 flex flex-col justify-end text-white text-left">
                        <div class="text-xs opacity-90 mb-1">2026年度</div>
                        <h2 class="text-lg md:text-xl font-bold leading-tight drop-shadow-md">募集要項</h2>
                        <span class="inline-flex items-center gap-1 text-xs mt-2 opacity-80 group-hover:opacity-100 transition-opacity">
                            詳細を見る <span class="material-symbols-outlined text-[14px]">arrow_forward</span>
                        </span>
                    </div>
                </a>

                <a href="../animal_type/index.html" class="group relative snap-start shrink-0 basis-[45%] md:basis-[30%] lg:basis-[28%] rounded-2xl overflow-hidden shadow-md hover:shadow-xl transition-all duration-300">
                    <img src="image/start.png" alt="Trend" class="absolute inset-0 h-full w-full object-cover transition-transform duration-500 group-hover:scale-110" loading="lazy" />
                    <div class="absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"></div>
                    <div class="relative h-full w-full aspect-square p-4 flex flex-col justify-end text-white">
                        <span class="text-xs font-bold text-sky-300 mb-1">New Trend</span>
                        <div class="text-sm md:text-base font-bold leading-snug">動物タイプ別診断</div>
                    </div>
                </a>

                <a href="#" class="group relative snap-start shrink-0 basis-[45%] md:basis-[30%] lg:basis-[28%] rounded-2xl overflow-hidden shadow-md hover:shadow-xl transition-all duration-300">
                    <img src="../img/slide1.webp" alt="Learning slide" class="absolute inset-0 h-full w-full object-cover transition-transform duration-500 group-hover:scale-110" loading="lazy" />
                    <div class="absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"></div>
                    <div class="relative h-full w-full aspect-square p-4 flex flex-col justify-end text-white">
                        <div class="text-sm md:text-base font-bold leading-snug">絶妙なライン、これってセクハラ？</div>
                    </div>
                </a>

                <a href="#" class="group relative snap-start shrink-0 basis-[45%] md:basis-[30%] lg:basis-[28%] rounded-2xl overflow-hidden shadow-md hover:shadow-xl transition-all duration-300">
                    <img src="../img/slide2.webp" alt="Trend" class="absolute inset-0 h-full w-full object-cover transition-transform duration-500 group-hover:scale-110" loading="lazy" />
                    <div class="absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"></div>
                    <div class="relative h-full w-full aspect-square p-4 flex flex-col justify-end text-white">
                         <div class="text-sm md:text-base font-bold leading-snug">BitコインでFIREだ！</div>
                    </div>
                </a>

                <div class="relative snap-start shrink-0 basis-[45%] md:basis-[30%] lg:basis-[28%] rounded-2xl overflow-hidden shadow-md bg-gradient-to-br from-amber-200 via-pink-200 to-cyan-200 aspect-square grid place-items-center p-4">
                     <div class="text-center group cursor-pointer">
                        
                        <div class="text-base font-bold text-gray-800">もっと見る</div>
                    </div>
                </div>

            </div>

            <button data-prev class="absolute -left-2 top-1/2 -translate-y-1/2 rounded-full bg-white/90 hover:bg-white p-2 shadow-lg flex z-20 transition md:block hidden text-gray-600">
                <span class="material-symbols-outlined">chevron_left</span>
            </button>
            <button data-next class="absolute -right-2 top-1/2 -translate-y-1/2 rounded-full bg-white/90 hover:bg-white p-2 shadow-lg flex z-20 transition md:block hidden text-gray-600">
                <span class="material-symbols-outlined">chevron_right</span>
            </button>
        </div>
    </div>
</section>
            <div class="hidden mx-auto max-w-6xl px-4 mt-3 flex items-center justify-center gap-3 text-xs text-gray-600" id="hero-indicator">
                <div class="flex items-center gap-2" id="hero-dots"></div>
            </div>

            <!-- Search and Filter Section -->
            <div class="sticky top-14 z-30 bg-gray-100/90 backdrop-blur border-b border-gray-200/50 py-3 mt-6 transition-all">
            
                <section class="mx-auto max-w-6xl px-4">
                    <div class="flex flex-col md:flex-row md:items-center justify-center gap-3">
                        <div class="flex items-center w-full md:w-auto lg:max-w-3xl flex-1 rounded-full bg-white shadow-sm border border-gray-200 pl-3 focus-within:ring-2 ring-sky-500 focus-within:border-sky-500 transition-colors">
                            <span class="material-symbols-outlined text-gray-400 mr-1">search</span>
                            <input type="search" id="search-input" placeholder="コース名やキーワードで検索" class="bg-white flex-1 py-2.5 px-1 rounded-full focus:outline-none text-base md:text-sm" aria-label="コース検索" />
                            <button id="btn-clear-main" class="hidden flex p-1.5 mr-2 rounded-full hover:bg-gray-100 text-gray-400 hover:text-gray-600 transition shrink-0" type="button" aria-label="クリア">
                                <span class="material-symbols-outlined text-[18px]">close</span>
                            </button>
                            <button id="btn-sort" class="flex m-1.5 rounded-full p-1.5 hover:bg-gray-100 text-gray-500 relative" aria-haspopup="true" aria-expanded="false" title="並び替え">
                                <span class="material-symbols-outlined text-[20px]">swap_vert</span>
                            </button>

                            <button id="btn-filter" class="relative flex m-1.5 rounded-full p-1.5 hover:bg-gray-100 text-gray-500 transition-colors" aria-haspopup="dialog" aria-controls="filter-dialog" aria-expanded="false" title="フィルタ">
                                <span class="material-symbols-outlined text-[20px]">tune</span>
                                <span id="filter-indicator" class="hidden absolute top-1.5 right-1.5 h-2 w-2 rounded-full bg-sky-500 ring-2 ring-white"></span>
                            </button>
                        </div>

                        <div class="hidden md:flex bg-white rounded-full shadow-sm border border-gray-200 p-1 gap-1">
                            <button id="view-toggle-grid" class="flex p-2 rounded-full bg-sky-100 text-sky-600 shadow-inner transition" aria-label="グリッド表示">
                                <span class="material-symbols-outlined text-[20px]">grid_view</span>
                            </button>
                            <button id="view-toggle-list" class="flex p-2 rounded-full text-gray-400 hover:bg-gray-100 hover:text-gray-600 transition" aria-label="リスト表示">
                                <span class="material-symbols-outlined text-[20px]">view_list</span>
                            </button>
                        </div>
                    </div>
                </section>
                <section id="active-filters-section" class="mx-auto max-w-6xl px-4 mt-4 hidden">
                    <div class="flex flex-wrap items-center gap-2">
                        <span class="text-xs font-bold text-gray-500 mr-1">適用中の条件:</span>
                        <div id="active-filters-container" class="flex flex-wrap gap-2">
                            </div>
                        <button id="btn-clear-all-filters" class="text-xs text-sky-600 hover:text-sky-800 hover:underline ml-2 transition">
                            すべてクリア
                        </button>
                    </div>
                </section>
            </div>

            <!-- Course List Section -->
            <section class="mx-auto max-w-6xl px-4 mt-8 mb-16" aria-label="コース一覧">
                <div id="course-panel" role="list" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 transition-all duration-300">
                    </div>
                <div id="loading-sentinel" class="mt-12 flex justify-center py-4 opacity-0 transition-opacity duration-300">
                    <div class="flex flex-col items-center gap-2">
                        <div class="h-8 w-8 animate-spin rounded-full border-4 border-slate-200 border-t-sky-500"></div>
                        <span class="text-xs font-bold text-slate-400 tracking-wider">LOADING...</span>
                    </div>
                </div>
            </section>
            
            <!-- Footer -->
            <footer class="border-t border-gray-200/70 bg-white">
                <div class="max-w-6xl mx-auto px-4 py-8 text-xs text-gray-500 flex flex-wrap items-center justify-between gap-3">
                <div>© IEC — プライバシーポリシー / 利用規約</div>
                <div class="flex items-center gap-2">
                    <span class="material-symbols-outlined text-base">help</span>
                    <a href="#" class="hover:underline">ヘルプ</a>
                </div>
                </div>
            </footer>

            <!-- Sort Dialog -->
            <div id="sort-dialog" class="fixed inset-0 z-50 hidden" role="dialog" aria-modal="true">
                <div id="sort-backdrop" class="absolute inset-0 bg-black/40 backdrop-blur-sm opacity-0 transition-opacity duration-200"></div>
                <div class="pointer-events-none absolute inset-0 flex items-end justify-center md:items-center">
                    <div id="sort-panel" class="pointer-events-auto w-full md:w-80 bg-white md:rounded-2xl rounded-t-2xl shadow-2xl transform translate-y-full transition-transform duration-200 ease-out overflow-hidden m-0 md:m-4">
                        <div class="px-5 py-4 border-b border-gray-100 flex items-center justify-between bg-gray-50/50">
                            <h3 class="font-bold text-gray-800">並び替え</h3>
                            <button id="sort-close" class="p-1 rounded-full hover:bg-gray-200 text-gray-500 transition">
                                <span class="material-symbols-outlined text-[20px]">close</span>
                            </button>
                        </div>
                        <div class="p-2 space-y-1">
                            <button class="sort-option w-full text-left px-4 py-3 rounded-xl hover:bg-sky-50 text-sm font-medium text-sky-700 flex items-center justify-between group" data-val="recommend">
                                <span>受講期間が短い順</span>
                                <span class="material-symbols-outlined text-sky-600 text-[20px]">check</span>
                            </button>
                            <button class="sort-option w-full text-left px-4 py-3 rounded-xl hover:bg-sky-50 text-sm font-medium text-gray-600 hover:text-sky-700 flex items-center justify-between group" data-val="new">
                                <span>受講期間が長い順</span>
                                <span class="material-symbols-outlined text-sky-600 text-[20px] opacity-0 group-hover:opacity-50">check</span>
                            </button>
                            <button class="sort-option w-full text-left px-4 py-3 rounded-xl hover:bg-sky-50 text-sm font-medium text-gray-600 hover:text-sky-700 flex items-center justify-between group" data-val="price_asc">
                                <span>価格が安い順</span>
                                <span class="material-symbols-outlined text-sky-600 text-[20px] opacity-0 group-hover:opacity-50">check</span>
                            </button>
                            <button class="sort-option w-full text-left px-4 py-3 rounded-xl hover:bg-sky-50 text-sm font-medium text-gray-600 hover:text-sky-700 flex items-center justify-between group" data-val="price_desc">
                                <span>価格が高い順</span>
                                <span class="material-symbols-outlined text-sky-600 text-[20px] opacity-0 group-hover:opacity-50">check</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Filter Dialog -->
            <div id="filter-dialog" class="fixed inset-0 z-50 hidden" role="dialog" aria-modal="true" aria-labelledby="filter-title">
                <div id="filter-backdrop" class="absolute inset-0 bg-black/40 backdrop-blur opacity-0 transition-opacity duration-200"></div>
                <div class="pointer-events-none fixed inset-0 flex items-end md:items-center justify-center p-0 md:p-4">
                    <div id="filter-panel" class="pointer-events-auto flex flex-col w-full md:w-[640px] max-w-2xl bg-white shadow-2xl rounded-t-3xl md:rounded-3xl transform translate-y-full md:translate-y-0 opacity-0 transition-all duration-200 ease-out max-h-[85vh] md:max-h-[80vh]">
                        <div class="flex-none px-6 py-4 border-b border-gray-100 flex items-center gap-3">
                            <span class="material-symbols-outlined text-sky-600">tune</span>
                            <div class="mr-auto">
                                <h2 id="filter-title" class="text-lg font-semibold leading-tight">フィルタ</h2>
                            </div>
                            <button id="filter-close" class="p-2 rounded-full hover:bg-gray-100 flex transition" aria-label="Close">
                                <span class="material-symbols-outlined">close</span>
                            </button>
                        </div>
                        <div class="flex-1 overflow-y-auto p-6 space-y-8 no-scrollbar">
                            <div>
                                <label class="block text-sm font-bold text-gray-700 mb-2">キーワード</label>
                                <div class="flex items-center rounded-xl border border-gray-200 focus-within:ring-2 focus-within:ring-sky-500 bg-white px-3 shadow-sm">
                                    <span class="material-symbols-outlined text-gray-400 mr-1">search</span>
                                    <input id="filter-keyword" type="search" class="bg-white w-full rounded-xl py-3 px-2 outline-none text-base" placeholder="例）マネジメント / VBA など" />
                                    <button id="btn-clear-filter" class="hidden flex p-2 mr-1 rounded-full hover:bg-gray-100 text-gray-400 hover:text-gray-600 transition shrink-0" type="button" aria-label="クリア">
                                        <span class="material-symbols-outlined text-[20px]">close</span>
                                    </button>
                                </div>
                            </div>
                            <div class="flex items-center justify-between py-2">
                                <div>
                                    <label class="block text-sm font-bold text-gray-700" for="filter-new-only">新着コースのみ</label>
                                    <p class="text-xs text-gray-400 mt-0.5">"NEW" マークがついたコースを表示</p>
                                </div>
                                <label class="relative inline-flex items-center cursor-pointer">
                                    <input type="checkbox" id="filter-new-only" class="sr-only peer">
                                    <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-sky-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-sky-600"></div>
                                </label>
                            </div>
                            <div>
                                <label class="block text-sm font-bold text-gray-700 mb-3">タグで絞り込む</label>
                                <div id="filter-tag-container" class="space-y-6"></div>
                            </div>
                            <div>
                                <div class="flex items-center justify-between mb-4">
                                    <label class="block text-sm font-bold text-gray-700">受講期間</label>
                                    <div class="text-sm font-medium text-sky-600 bg-sky-50 px-3 py-1 rounded-lg border border-sky-100">
                                        <span id="period-min-label">1</span> ヶ月 〜 <span id="period-max-label">12</span> ヶ月
                                    </div>
                                </div>
                                <div class="relative h-6 mx-2"> <div class="absolute left-0 right-0 top-1/2 -translate-y-1/2 h-1.5 bg-gray-100 rounded-full"></div>
                                    <div id="period-fill" class="absolute top-1/2 -translate-y-1/2 h-1.5 bg-sky-500 rounded-full"></div>
                                    <input id="period-range-min" type="range" min="1" max="12" step="1" value="1" class="range-vis">
                                    <input id="period-range-max" type="range" min="1" max="12" step="1" value="12" class="range-vis">
                                </div>
                            </div>
                            <div class="pb-4"> <div class="flex items-center justify-between mb-4">
                                    <label class="block text-sm font-bold text-gray-700">受講料</label>
                                    <div class="text-sm font-medium text-sky-600 bg-sky-50 px-3 py-1 rounded-lg border border-sky-100">
                                        <span id="price-min">0</span> 円 〜 <span id="price-max">30,000</span> 円
                                    </div>
                                </div>
                                <div class="relative h-6 mx-2">
                                    <div class="absolute left-0 right-0 top-1/2 -translate-y-1/2 h-1.5 bg-gray-100 rounded-full"></div>
                                    <div id="price-fill" class="absolute top-1/2 -translate-y-1/2 h-1.5 bg-sky-500 rounded-full"></div>
                                    <input id="range-min" type="range" min="0" max="50000" value="0" class="range-vis">
                                    <input id="range-max" type="range" min="0" max="50000" value="30000" class="range-vis">
                                </div>
                            </div>
                        </div>
                        <div class="flex-none px-6 py-4 border-t border-gray-100 bg-gray-50/80 backdrop-blur rounded-b-none md:rounded-b-3xl flex items-center justify-between gap-4 z-10">
                            <button id="filter-reset" class="text-sm text-gray-500 hover:text-gray-800 underline underline-offset-4 transition">リセット</button>
                            <div class="flex items-center gap-3">
                                <button id="filter-cancel" class="px-5 py-2.5 rounded-xl border border-gray-300 text-gray-600 bg-white hover:bg-gray-50 font-medium transition shadow-sm">キャンセル</button>
                                <button id="filter-apply" class="px-8 py-2.5 rounded-xl bg-sky-600 text-white hover:bg-sky-700 font-bold shadow-md hover:shadow-lg transform active:scale-95 transition">適用する</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Deadline Banner -->
            <div id="deadline-banner" class="fixed inset-x-3 bottom-3 md:inset-x-auto md:right-6 md:bottom-6 z-40 md:z-50">
                <div class="max-w-xl md:max-w-sm mx-auto md:mx-0 rounded-2xl shadow-xl border border-sky-100 bg-white/95 backdrop-blur px-4 py-3 flex items-start gap-3">
                    <div class="mt-0.5 flex h-8 w-8 flex-none items-center justify-center rounded-full bg-sky-100 text-sky-700">
                        <span class="material-symbols-outlined text-[20px]">event_upcoming</span>
                    </div>
                    <div class="min-w-0  flex-1 text-xs md:text-sm text-gray-800">
                        <p class="font-semibold text-gray-900 text-sm md:text-base">
                            6月1日開講の<br>申込締切は<span class="font-bold text-sky-700 text-2xl">5月15日</span>です。
                        </p>
                        <p>お申込みはお早めに！</p>
                    </div>
                    <button id="deadline-banner-close" type="button" class="ml-1 flex h-7 w-7 flex-none items-center justify-center rounded-full hover:bg-gray-100 text-gray-400 hover:text-gray-600 transition" aria-label="このお知らせを閉じる">
                        <span class="material-symbols-outlined text-[18px]">close</span>
                    </button>
                </div>
            </div>
        </body>
    </html>